# Redis
- Remote Dictionary Server의 줄임말
- 오픈소스 인메모리(In-Memory) 데이터 저장소
- Key-Value 형태로 데이터를 RAM에 저장해 엄청 빠른 속도로 읽고 쓰는 데이터베이스
## 특징
|항목|설명|
|--|--|
|In-Memory 저장소|디스크가 아니라 RAM에 저장 -> 빠름|
|Key-Value 구조|딕셔너리처럼 키와 값을 짝지어 저장|
|다양한 자료구조 제공|문자열, 리스트, 해시, 셋, 정렬된 셋 등|
|매우 빠름|읽기/쓰기 처리 속도가 수만 건/초|
|지속성|메모리에 저장되나 디스크에 백업 가능|
|Pub/Sub 지원|채팅, 실시간 알림 등에 적합|
|캐시|DB보다 빠르니 자주 쓰는 것들을 캐싱용으로 저장 가능|
## 사용 사례
|사례|설명|
|--|--|
|세션 저장소|로그인 세션, 인증 상태 캐싱|
|장바구니|유저별 임시 데이터 저장|
|실시간 채팅|Pub/Sub 기반 메세지 브로커|
|실시간 알림|알림 큐, SSE/Socket 연동|
|실시간 랭킹|ZSet(정렬된 집합) 기반 랭킹 처리|
|API 요청 캐싱|외부 API 걀과 캐싱으로 속도 향상|
## 자료구조
|자료구조|설명|사용 예시|
|--|--|--|
|`String`|기본 Key-Value 저장|사용자 토큰, 숫자 카운트|
|`List`|순서 있는 배열 구조|채팅 메시지 저장, 큐|
|`Set`|중복 없는 집합|좋아요 유저 목록|
|`ZSet`|점수 기반 정렬 Set|랭킹 시스템|
|`Hash`|필드-값 쌍의 딕셔너리|유저 정보, JSON 구조 저장|
## Redis 데이터 저장 방식
|방식|설명|
|--|--|
|RDB|주기적으로 전체 백업|
|AOF|모든 명령어 기록 (append only)|
|혼합|RDB + AOF 동시에 사용 가능 (권장)|
## 성능이 빠른 이유
|항목|설명|
|--|--|
|메모리 기반|RAM에서 작동해 I/O가 없음|
|단일 스레드|락 경쟁 없이 매끄러움|
|자료구조 최적화|필요한 구조만 빠르게 처리|
|비동기 백업|저장 응답 대기 없음|
|네트워크 효율|통신 초경량 설계|
### 단일 스레드
- 내부적으로 싱글 스레드 + 이벤트 루프 구조
- 락 걸 필요 없어 병렬성 문제 없는 초고속 처리
```text
[클라이언트 요청 1] ─┐
[클라이언트 요청 2] ─┤  →  [이벤트 루프] → [처리 완료 후 응답]
[클라이언트 요청 3] ─┘
```
- 대부분의 명령어가 1ms 미만으로 처리
- 수백만 요청이 와도 한 번에 한 개씩 매우 빠르게 처리해 병렬보다 효율적임
- 이벤트 루프로 처리하며 블로킹 없이 빠르게 이벤트 처리
- Context Switching이 없어 낭비가 없음